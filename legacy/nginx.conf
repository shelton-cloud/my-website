# LEARNING: This 'events' block is required by NGINX, but for
events { }

# LEARNING: This is the main block that configures the web server.

http {

    # LEARNING: This tells NGINX what "type" of file to report
    # for different file extensions (e.g., .css is text/css).
    # We include it to be thorough.

    include /etc/nginx/mime.types;

    # LEARNING: This is our server definition.

    server {
        # LEARNING: Listen on port 80, the standard web port.
        listen 80;

        # LEARNING: This is the "root" folder inside the container
        # where our website files live. It matches the WORKDIR
        # in our Dockerfile.
        root /usr/share/nginx/html;

        # LEARNING: This tells NGINX that if a user just visits
        # your domain, the file to serve them is 'index.html'.
        index index.html;

        # LEARNING: This 'location' block is the catch-all. It
        # tells NGINX how to handle all requests.
        location / {
            # This tries to find the file the user requested.
            # If it can't, it falls back to showing the index.html.
            try_files $uri /index.html;
        }
    }
}